# Автотесты GUI для приложения MeterTools5

Проект автотестов настольного оконного приложения MeterTools5 на основе каркаса JUnit5 со сценариями на языке Gherkin (Java-библиотека Cucumber) и с построением отчетов при помощи Cucumber Reporting

## Предварительные требования

- MS Windows 11
- JDK 18
- Maven 3.8.6

## Скачивание

**git clone** https://github.com/YuriiTrofimenko/work-test-gui-java-sikuli-metertools5.git

## Настройки

Каталог с наборами тестовых сценариев на языке Gherkin:

src/main/resources/features

Каталог с образцам изображений элементов в формате png:

src/main/resources/images

Каталоги со словарями _"\[состояние/вариант \+ \]текст элемента - путь к образцу изображения элемента"_:

src/main/resources/properties/sample-image-paths/_\<theme\>_

, где _\<theme\>_ - название темы визуального оформления приложения, по умолчанию при старте тестов выбирается 'light'

Стандартные свойства выполнения тестов (файл src/test/resources/junit-platform.properties):

- **cucumber.glue** - пакет с реализациями шагов тестовых сценариев на языке Java
- **cucumber.features** - путь относительно корневого каталога проекта к каталогу с файлами объявлений тестовых сценариев на языке Gherkin
- **cucumber.plugin** - перечисление стандартных плагинов оформления результатов тестов
- **cucumber.filter.tags** - перечисление тэгов, которыми помечены объявления сценариев / наборов сценариев, которые нужно / не нужно выполнять

Пользовательские свойства взаимодействия с тестируемым приложением (файл src/main/resources/properties/custom.properties):

- WAIT_FOR_IMAGE - базовое время ожидания появления отрисовки элемента на экране в секундах (целое число), после истечения которого элемент считается не найденным, и выбрасывается исключение
- BASE_IMAGES_PATH - базовый путь к образцам изображений элементов относительно корневого каталога проекта
- *_IMAGE_PATH - пути к образцам изображений элементов каркаса главного окна и ярлыка запуска приложения относительно базового пути BASE_IMAGES_PATH, указываются без окончания с расширением png. Эти элементы не являются локализуемыми.
- APP_USER_STATE_FILE_NAME - путь к файлу пользовательского состояния приложения относительно пути к каталогу текущего пользователя

## Запуск

- запустить все тесты:

**mvn clean verify**

- запустить только те тесты, имена которых совпадают с заданным regular expression:

**mvn clean verify** **-D"cucumber.filter.name=**_\<regular expression\>_**"**

, например, если нужно запустить только сценарий с заголовком "Открыть приложение в первый раз и проверить его главное окно, затем закрыть":

**mvn clean verify** **-D"cucumber.filter.name=**_^Открыть приложение в первый раз и проверить его главное окно, затем закрыть$_**"**

- файлы отчетов будут сгененрированы в каталоге _target/cucumber-html-reports_

## Использованы:
- платформа и язык программирования Java 18
- сборщик проектов Maven 3.8.6
- каркас выполнения тестов JUnit5
- Sikuli для взаимодействия с GUI рабочего стола и любых оконных приложений на основе графических образцов
- сценарии тестов в формате Gherkin для контейнера Cucumber (например, в файле src/main/resources/smoke.feature)
- построение отчетов при помощи Maven-плагина Cucumber Reporting
- журналирование при помощи log4j-slf4j